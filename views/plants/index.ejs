<%- include('../partials/header') %>

    <div class="container">
        <header>
            <h2>My Plants</h2>
        </header>
        <table>
            <thead>
                <tr>
                    <th>Plant Name</th>
                    <th>Nickname</th>
                    <th>Last Watered</th>
                    <th>Update Last Watered Date</th>
                    <th>See More</th>
                    <th>Delete Plant</th>
                </tr>
            </thead>
            <tbody>
                <% plants.forEach(function(plant) { %>
                    <tr>
                        <td>
                            <%= plant.name %>
                        </td>
                        <td>
                            <%= plant.nickname || 'N/A' %>
                        </td>
                        <td>
                            <%= plant.wateredDate ? plant.wateredDate : 'N/A' %>
                        </td>
                        <td>
                            <form action="/plants/<%= plant._id %>/water" method="POST">
                                <input type="date" name="lastWateredDate" required>
                                <button type="submit" class="btn">Update Date</button>
                            </form>
                        </td>
                        <td>
                            <a href="/plants/<%= plant._id %>">DETAILS</a>
                        </td>
                        <td>
                            <form action="/plants/<%= plant._id %>?_method=DELETE" method="POST"
                                onsubmit="return confirm('Are you sure?');">
                                <button type="submit" class="btn">Delete</button>
                            </form>
                        </td>
                    </tr>
                    <% }); %>
            </tbody>
        </table>
        <a href="/plants/new" class="btn">Add New Plant</a>
    </div>
    </div>


    <%- include('../partials/footer') %>